"use strict";function APICall(e,n,t,o){console.info("You are querying for: https://www.anapioficeandfire.com/api/"+e+"?page="+n+"&pageSize="+t+o);try{var s=new XMLHttpRequest;"characters"!=(e=e.toLowerCase())&&"books"!=e&&"houses"!=e&&console.warn("You entered an incorrect value."),s.onreadystatechange=function(){if(console.info("readyState: "+this.readyState+" | status: "+this.status),4==this.readyState&&200==this.status){var e=JSON.parse(s.responseText);all_characters=all_characters.concat(e),console.log(all_characters)}},s.open("GET","https://www.anapioficeandfire.com/api/"+e+"?page="+n+"&pageSize="+t+o,!0),s.send()}catch(e){console.warn("An error occured here!")}}function ScrollToElement(e){var n=document.querySelector("#"+e).getBBox();console.log(n);var t=document.querySelector(".section__left"),o=n.y,s=n.x;t.scrollTop=o,t.scrollLeft=s,console.log("New position:"),console.log("Horizontal: "+t.scrollLeft+" | Vertical: "+t.scrollTop)}function ZoomSVG(e){document.querySelector("#game_of_thrones_world_map_svg").style.height=e+"vh"}function QueryAPI(e){var n=e.id,t=cultures[n];if(t instanceof Array){t.forEach(function(e){APICall("characters",0,10,"&Cultures=Northmen")})}else APICall("characters",0,10,"&Cultures="+t)}console.info("Hello there!");var all_lands,all_continents,all_titles,all_pins,all_characters=Array(),cultures={Braavos:"Braavosi",Westeros:["Westeros","Andal","First Men","Rhoynar"],Valyria:"Valyrian",The_Stormlands:"Stormlands",The_Iron_Islands:"Ironborn",The_North:["Northmen","Northern mountain clans"],The_Vale:["Valemen","Mountain clans"],The_Reach:"Reach",Dorne:"Dornish",Riverlands:"Rivermen",Westernlands:["Westerman","Westerlands"],The_Three_Sisters:"Sistermen",New_Ghis:"Ghiscari",Old_Ghis:"Ghiscari",The_Neck:"Crannogmen",Asshai:"Asshai",Tyrish:"Tyroshi",Myr:"Myrish",Thenn:"Thenn",Vaes_Dothrak:"Dothraki",Norvos:"Norvoshi",Ib_Islands:"Ibbenese",Summer_Islands:"Summer Isles",Meereen:"Meereenese",Astapor:"Astapori",Lys:"Lysene",Qarth:"Qartheen",Lhazosh:"Lhazareen",Pentos:"Pentoshi",Naath:"Naathi",Qohor:"Qohor"};document.addEventListener("DOMContentLoaded",function(e){function n(){all_lands.forEach(function(e){e.classList.remove("land__clicked")}),all_continents.forEach(function(e){e.parentElement.classList.remove("continent__clicked")})}function t(e,n){var t="",o=!1;switch(e){case"mouseover":t="land__hovered";break;case"mouseout":t="land__hovered",o=!0;break;case"click":t="land__clicked"}var s=".part_of_"+n.id;document.querySelectorAll(s).forEach(function(e){1==o?e.classList.remove(t):e.classList.add(t)})}all_lands=document.querySelectorAll("[class*=land_]"),all_pins=document.querySelectorAll("[class*=pin_]"),all_titles=document.querySelectorAll("[class*=text_]"),all_continents=document.querySelectorAll(".continent"),n(),all_lands.forEach(function(e){e.addEventListener("mouseover",function(){e.classList.add("land__hovered"),t("mouseover",e)}),e.addEventListener("mouseout",function(){e.classList.remove("land__hovered"),t("mouseout",e)}),e.addEventListener("click",function(){n(),e.classList.contains("land__clicked")?e.classList.remove("land__clicked"):e.classList.add("land__clicked"),t("click",e),QueryAPI(e)})}),all_continents.forEach(function(e){e.addEventListener("mouseover",function(){e.parentElement.classList.add("continent__hovered")}),e.addEventListener("mouseout",function(){e.parentElement.classList.remove("continent__hovered")}),e.addEventListener("click",function(){n(),e.parentElement.classList.contains("continent__clicked")?e.parentElement.classList.remove("continent__clicked"):e.parentElement.classList.add("continent__clicked"),QueryAPI(e.parentElement)})});var o=document.querySelector("#toggle_pins_checkbox");o.addEventListener("change",function(){all_pins.forEach(function(e){e.classList.contains("pin_shown")?(e.classList.remove("pin_shown"),document.querySelectorAll(".svg__tools__label")[1].innerHTML="Click on a region to get more information.",o.nextElementSibling.innerHTML="Show cities"):(e.classList.add("pin_shown"),document.querySelectorAll(".svg__tools__label")[1].innerHTML="Click on a region/city to get more information.",o.nextElementSibling.innerHTML="Hide cities")})});var s=document.querySelector("#zoom_svg_slider");s.addEventListener("change",function(){ZoomSVG(s.value)});var a=document.createElement("div");a.className="scrollbar-measure",document.body.appendChild(a);var r=a.offsetWidth-a.clientWidth;console.info(r),document.body.removeChild(a);document.querySelector(".svg__tools").style.bottom=30+r+"px"});